<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Невесомость в ванне</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
    }
    canvas {
      border: 1px solid #555;
      background: #ccf3ff;
    }
  </style>
</head>
<body>
  <h2>Невесомость в ванне</h2>
  <p>Модель тела в воде с указанием сил: тяжести, Архимеда и давления</p>
  <canvas id="bathCanvas" width="600" height="400"></canvas>

  <script>
    const canvas = document.getElementById("bathCanvas");
    const ctx = canvas.getContext("2d");

    // Параметры тела и воды
    const body = {
      x: 250,
      y: 180,
      width: 100,
      height: 40,
      color: "#ffe0bd" // Цвет кожи
    };

    const waterLevel = 200;

    // Отрисовка ванны и тела
    function drawScene() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Вода
      ctx.fillStyle = "#aee6f9";
      ctx.fillRect(0, waterLevel, canvas.width, canvas.height - waterLevel);

      // Тело
      ctx.fillStyle = body.color;
      ctx.fillRect(body.x, body.y, body.width, body.height);

      drawForces();
    }

    // Отрисовка сил
    function drawArrow(fromX, fromY, toX, toY, color, label) {
      const headlen = 10;
      const dx = toX - fromX;
      const dy = toY - fromY;
      const angle = Math.atan2(dy, dx);

      ctx.beginPath();
      ctx.moveTo(fromX, fromY);
      ctx.lineTo(toX, toY);
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();

      // Стрелка
      ctx.beginPath();
      ctx.moveTo(toX, toY);
      ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6),
                  toY - headlen * Math.sin(angle - Math.PI / 6));
      ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6),
                  toY - headlen * Math.sin(angle + Math.PI / 6));
      ctx.lineTo(toX, toY);
      ctx.fillStyle = color;
      ctx.fill();

      // Подпись
      ctx.fillStyle = color;
      ctx.font = "16px sans-serif";
      ctx.fillText(label, toX + 5, toY + 5);
    }

    function drawForces() {
      const cx = body.x + body.width / 2;
      const top = body.y;
      const bottom = body.y + body.height;

      // Сила тяжести (вниз)
      drawArrow(cx, top + 10, cx, bottom + 40, "red", "Тяжесть");

      // Сила Архимеда (вверх)
      drawArrow(cx - 30, bottom - 10, cx - 30, top - 40, "green", "Архимед");

      // Давление на бока (справа и слева)
      drawArrow(body.x + body.width + 5, top + 20, body.x + body.width + 40, top + 20, "blue", "Давление →");
      drawArrow(body.x - 5, top + 20, body.x - 40, top + 20, "blue", "← Давление");
    }

    drawScene();
  </script>
</body>
</html>
