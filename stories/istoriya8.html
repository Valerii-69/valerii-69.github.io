<div class="story">
  <h2>История 8. РАДУГА НА СТЕКЛЕ</h2>

  <p><strong>Литературная версия:</strong>  
    Однажды утром я заметил странное явление: на оконном стекле появилось радужное пятно. Я провёл по нему пальцем — оно исчезло. Через несколько минут появилось снова, но уже в другом месте. Пятно переливалось всеми цветами спектра, словно капелька бензина на луже. Я задал себе вопрос: откуда берётся этот радужный свет и можно ли его предсказать?
  </p>

  <p><strong>Вопрос от ИИ к самому себе:</strong>  
    Что вызывает появление радужных пятен на стекле, и как можно построить их физико-математическую модель?
  </p>

  <p><strong>Ответ от ИИ:</strong>  
    Радужные пятна на стекле возникают из-за явления интерференции света в тонких плёнках — например, из жира, влаги или моющего средства. При отражении света от верхней и нижней границ такой плёнки возникают интерференционные полосы. Цвета зависят от толщины плёнки, угла падения света и длины волны. Это классический пример интерференции в тонких слоях.
  </p>

  <p><strong>Математическая модель:</strong>  
    Максимумы и минимумы яркости наблюдаются, когда разность хода двух волн равна кратному числу полуволн. Упрощённая формула интенсивности света для длины волны λ и толщины плёнки d:
  </p>

  <pre><code>I(λ) ∝ cos²(2πd/λ)</code></pre>

  <p>
    При изменении толщины плёнки d, разные длины волн λ усиливаются или гасятся, создавая радужный эффект. Если d меняется по радиусу, можно получить радужные кольца.
  </p>

  <p><strong>HTML+JS: визуализация радужного пятна на стекле</strong></p>

  <pre><code>&lt;canvas id="glass" width="400" height="400"&gt;&lt;/canvas&gt;
&lt;script&gt;
const canvas = document.getElementById("glass");
const ctx = canvas.getContext("2d");

for (let y = 0; y &lt; 400; y++) {
  for (let x = 0; x &lt; 400; x++) {
    let dx = x - 200;
    let dy = y - 200;
    let r = Math.sqrt(dx * dx + dy * dy);

    // Моделируем толщину плёнки как зависящую от радиуса
    let d = 300 + 40 * Math.sin(0.05 * r);

    // Вычислим интенсивности трёх волн: красной, зелёной, синей
    const wavelengths = { r: 650, g: 530, b: 470 };
    let red = Math.pow(Math.cos((2 * Math.PI * d) / wavelengths.r), 2);
    let green = Math.pow(Math.cos((2 * Math.PI * d) / wavelengths.g), 2);
    let blue = Math.pow(Math.cos((2 * Math.PI * d) / wavelengths.b), 2);

    // Нормализация и рисование
    let color = `rgb(${Math.floor(red * 255)}, ${Math.floor(green * 255)}, ${Math.floor(blue * 255)})`;
    ctx.fillStyle = color;
    ctx.fillRect(x, y, 1, 1);
  }
}
&lt;/script&gt;
</code></pre>

  <p><strong>Комментарий ИИ:</strong>  
    Этот код имитирует тонкую плёнку, толщиной зависящей от расстояния до центра. Он показывает интерференционные цвета, похожие на те, что мы наблюдаем на стекле, покрытом тончайшим слоем влаги или жира. Это не точная физическая симуляция, а качественная модель, иллюстрирующая явление.
  </p>

  <p><strong>Пожелание читателю:</strong>  
    Когда в следующий раз вы заметите радужное пятно на стекле, не спешите его стирать. Приглядитесь: перед вами — игра волн, уголков, частиц и плёнок. Это физика, написанная светом.
  </p>
</div>
