<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Танкер и волна</title>
<style>
  body { font-family: Arial; margin: 20px; }
  canvas { border: 1px solid #ccc; display: block; margin-top: 10px; }
input[type="range"] {
  width: 300px; /* Sets a fixed width in pixels */
}</style>
</head>
<body>
<h1>Эмулятор движения танкера по волнам</h1>
<h3>To refresh, click on the window</h3>
<p>Изменяйте амплитуду и частоту волн, чтобы увидеть, как это влияет на устойчивость танкера.</p>
<label for="amp">Амплитуда волн, (м): <span id="amp_val">1.2</span></label>
<input type="range" id="amp" min="0" max="10" value="1.2" step="0.1"><br>
<label for="freq">Частота волн, (гц): <span id="freq_val">0.3</span></label>
<input type="range" id="freq" min="0.1" max="6" value="0.3" step="0.1"><br>
<canvas id="tankercanvas" width="600" height="300"></canvas>
<p><b>Пожелание читателю:</b> поэкспериментируйте с параметрами и найдите сочетания, при которых танкер теряет устойчивость.</p>
<script>
const canvas = document.getElementById('tankercanvas');
const ctx = canvas.getContext('2d');
const ampSlider = document.getElementById('amp');
const freqSlider = document.getElementById('freq');

const windampVal = document.getElementById('amp_val');
const freqVal = document.getElementById('freq_val');

  // Обновляем подписи ползунков
  function updateLabels() {
    windampVal.textContent = ampSlider.value;
    freqVal.textContent = freqSlider.value;
  }
  freqSlider.oninput = ampSlider.oninput = updateLabels;
  updateLabels();



let t = 0;
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const amp = parseFloat(document.getElementById('amp').value);
  const freq = parseFloat(document.getElementById('freq').value);
  const wave = amp * Math.sin(freq * t);
  const waveT = amp * Math.cos(freq * t);
  ctx.fillStyle = 'blue';
  ctx.fillRect(0, 200 + wave, canvas.width, 200);
  ctx.fillStyle = 'gray';
  ctx.fillRect(200, 150 + waveT+20, 200, 60);
  t += 0.05;
  requestAnimationFrame(draw);
}
canvas.addEventListener('click', function() {
t = 0;
	draw();
}, false);
draw();
</script>
</body>
</html>